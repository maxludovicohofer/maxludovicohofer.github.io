---
import ContentList from "@components/ContentList.astro";
import PostPreview from "@layouts/PostPreview.astro";
import { highlightThought, latestThought } from "@pages/index.astro";
import { title } from "@pages/thoughts/index.astro";
import type { ComponentProps } from "astro/types";

interface Props {
  importance?: ComponentProps<typeof PostPreview>["importance"];
}

const { importance } = Astro.props;

const alreadyVisible = [highlightThought, latestThought].filter(
  (entry) => !!entry
);
---

<PostPreview
  container
  readMore="thoughts"
  readMoreText="See all thoughts"
  readMoreClassName="hidden md:inline"
  importance={importance}
>
  <Fragment slot="title">{title}</Fragment>
  <ContentList
    collection="thoughts"
    short
    exclude={alreadyVisible}
    additional={alreadyVisible}
  />
</PostPreview>
