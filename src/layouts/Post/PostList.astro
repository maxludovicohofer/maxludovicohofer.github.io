---
import ContentList from "@layouts/ContentList.astro";
import Post, { type PostCollectionKey } from "@layouts/Post/Post.astro";
import type { ComponentProps } from "astro/types";
import { capitalize } from "src/utils";

interface Props {
  collection: PostCollectionKey;
  exclude?: ComponentProps<typeof ContentList>["exclude"];
  isNotFullpage?: boolean;
}

const { collection, exclude, isNotFullpage } = Astro.props;
---

<Post container fullWidth={!isNotFullpage}>
  <Fragment slot="title"
    >{isNotFullpage ? `Other ${collection}` : capitalize(collection)}</Fragment
  >
  <ContentList
    collection={collection}
    discreteHighlight
    class={`${isNotFullpage ? "2xl:grid-cols-2" : "lg:grid-cols-2"} -mx-6 md:mx-0 px-6 md:px-0`}
    exclude={exclude}
    numberOfItemsToLoadEager={isNotFullpage ? undefined : 2}
  />
</Post>
