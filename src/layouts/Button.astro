---
import Link from "./Link.astro";

interface Props {
  inline?: boolean;
  readMore?: boolean;
  className?: string;
  href?: string | undefined;
  navigate?: boolean;
  rounded?: boolean;
  intersectAsHover?: boolean;
}

const {
  inline,
  readMore,
  className = "",
  href,
  navigate,
  rounded,
  intersectAsHover,
} = Astro.props;
---

<Link href={href} openInCurrentPage={navigate}>
  <button
    type="button"
    class={`${readMore ? `h-1/3 bg-gradient-to-t from-zinc-200 from-20% hover:from-yellow-300 active:from-yellow-400 dark:from-zinc-950 dark:hover:from-yellow-200 dark:active:from-yellow-300 text-zinc-950 dark:text-zinc-100 ${intersectAsHover ? "intersect:from-yellow-300 dark:intersect:from-yellow-200" : ""}` : `${rounded ? "rounded-full" : "rounded-lg"} h-11 2xl:h-16 bg-zinc-950 hover:bg-yellow-400 active:bg-yellow-500 dark:bg-zinc-100 dark:hover:bg-yellow-200 dark:active:bg-yellow-400 text-zinc-100 dark:text-zinc-950 hover:scale-105 active:scale-95 focus:ring-2 focus:ring-offset-2 focus:ring-inline-flex ${intersectAsHover ? "intersect:bg-yellow-400 dark:intersect:bg-yellow-200 intersect:scale-105" : ""}`} hover:text-zinc-950 shadow-md hover:shadow-lg active:shadow text-base 2xl:text-3xl font-semibold duration-150 ${inline ? "" : "w-full"} ${intersectAsHover ? "intersect:text-zinc-950 intersect:shadow-lg intersect-full" : ""} ${className}`}
  >
    {
      readMore ? (
        <div class="size-full flex flex-col justify-end pb-5 group-hover:animate-pulse intersect:animate-pulse lg:intersect:animate-none intersect-full">
          <slot />
        </div>
      ) : (
        <slot />
      )
    }
  </button>
</Link>
