---
import ContentList from "@ui/ContentList.astro";
import PostPreview from "@post/PostPreview.astro";
import type { ComponentProps } from "astro/types";
import type { PostCollectionKey } from "./Post.astro";
import { capitalize } from "@integrations/utils";

interface Props extends ComponentProps<typeof PostPreview> {
  collection: PostCollectionKey;
  contentClass?: string;
}

const { collection, contentClass, ...props } = Astro.props;

export const listPreviewContainerClass =
  "-mx-4 lg:mx-0 !shadow-none lg:!shadow-[0_6px_4px_-4px_rgb(0_0_0/0.1)] !rounded-none lg:!rounded-b-3xl";
---

<PostPreview
  container
  class="mx-4 lg:mx-0"
  readMore={collection}
  readMoreText={`See all ${collection}`}
  readMoreClass="hidden lg:inline"
  {...props}
  ><Fragment slot="title">{capitalize(collection)}</Fragment><ContentList
    collection={collection}
    class={`${contentClass} -mx-4 lg:mx-0 px-4 lg:px-0`}
  /></PostPreview
>
