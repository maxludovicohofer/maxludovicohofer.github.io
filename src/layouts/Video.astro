---
interface Props {
  title?: string;
  youtubeID?: string;
  color?: "red" | "white";
  autoplay?: boolean;
  mute?: boolean;
  loop?: boolean;
}

const { title, youtubeID, color, autoplay, mute, loop } = Astro.props;

const boolToAPIParam = (value: boolean | undefined, defaultValue?: boolean) =>
  (value ?? defaultValue) ? 1 : 0;

const src = `https://www.youtube.com/embed/${youtubeID}?color=${color ?? "white"}&autoplay=${boolToAPIParam(autoplay, true)}&mute=${boolToAPIParam(mute, true)}&loop=${boolToAPIParam(loop, true)}&playlist=${youtubeID}`;
---

<iframe title={title} src={src} class="size-full aspect-video" allowfullscreen
></iframe>
